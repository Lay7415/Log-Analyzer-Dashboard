# Real-Time Log Analytics and Anomaly Detection Platform

<style>
.gallery{display:flex;flex-direction:column;gap:8px;width:100%;}
.gallery .row{display:flex;gap:8px;align-items:stretch;flex-wrap:nowrap;}
.gallery .large{flex:2 1 60%;min-width:220px;}
.gallery .column{flex:1 1 35%;display:flex;flex-direction:column;gap:8px;min-width:140px;}
.gallery img{width:100%;height:100%;object-fit:cover;border-radius:6px;display:block;}
@media (max-width:900px){
    .gallery .row{flex-direction:column;}
    .gallery .column{flex-direction:row;}
    .gallery .column img{height:auto;}
}
</style>

<div class="gallery">
    <div class="row">
        <div class="large">
            <img src="./images/image.png" alt="image 1">
        </div>
        <div class="column">
            <img src="./images/image-1.png" alt="image 2">
            <img src="./images/image-2.png" alt="image 3">
        </div>
    </div>
    <div class="row">
        <div class="large">
            <img src="./images/image-3.png" alt="image 4">
        </div>
        <div class="column">
            <img src="./images/image-4.png" alt="image 5">
            <img src="./images/image-5.png" alt="image 6">
        </div>
    </div>
</div>



–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —Å–±–æ—Ä–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ Nginx –≤ —Ä–µ–∂–∏–º–µ, –±–ª–∏–∑–∫–æ–º –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏. –°–∏—Å—Ç–µ–º–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º –¥–∞—à–±–æ—Ä–¥–µ, –Ω–æ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π –≤ —Ç—Ä–∞—Ñ–∏–∫–µ, –∞ —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –º–æ–¥—É–ª—å –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–∫–ª—é—á–µ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫-–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã](#-–Ω–∞—á–∞–ª–æ-—Ä–∞–±–æ—Ç—ã)
  - [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
  - [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
  - [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö](#-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö)
  - [–û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏](#-–æ–±—É—á–µ–Ω–∏–µ-–ø—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π-–º–æ–¥–µ–ª–∏)
- [–î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º](#-–¥–æ—Å—Ç—É–ø-–∫-—Å–µ—Ä–≤–∏—Å–∞–º)
- [–û–±–∑–æ—Ä –¥–∞—à–±–æ—Ä–¥–∞](#-–æ–±–∑–æ—Ä-–¥–∞—à–±–æ—Ä–¥–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è](#-–≤–æ–∑–º–æ–∂–Ω—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è)

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** –õ–æ–≥–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Apache Kafka, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ Apache Spark Streaming.
*   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥:** –ü–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞ –±–∞–∑–µ Streamlit –¥–ª—è –≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π.
*   **–î–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π:** Spark –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ "–Ω–∞ –ª–µ—Ç—É" –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∏–¥–æ–≤ –∞–Ω–æ–º–∞–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
    *   **–°–∏–≥–Ω–∞—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑:** SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏, Path Traversal, —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π, –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ User-Agent.
    *   **–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:** –ê–Ω–æ–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –±—Ä—É—Ç—Ñ–æ—Ä—Å-–∞—Ç–∞–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞, —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü.
*   **–ü—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (Prophet) –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –Ω–∞ 24 —á–∞—Å–∞ –≤–ø–µ—Ä–µ–¥.
*   **–ü—Ä–µ–¥–ø–∏—Å—ã–≤–∞—é—â–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** –î–∞—à–±–æ—Ä–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤.
*   **–ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑:** IP-–∞–¥—Ä–µ—Å–∞ –æ–±–æ–≥–∞—â–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ –º–∏—Ä–∞.
*   **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é Docker, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –æ–±—Ä–∞–∑—É—é—â–∏—Ö –∫–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö (data pipeline).

**–°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
![alt text](./images/image-6.png)

*   **Nginx:** –í–µ–±-—Å–µ—Ä–≤–µ—Ä, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ –æ—à–∏–±–æ–∫).
*   **Filebeat:** –ê–≥–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª–æ–≥–æ–≤ –≤ Kafka.
*   **Apache Kafka:** –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É–∂–∏—Ç –±—É—Ñ–µ—Ä–æ–º –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
*   **Apache Spark:** –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
    *   –ß—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Kafka –≤ –ø–æ—Ç–æ–∫–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.
    *   –ü–∞—Ä—Å–∏–Ω–≥–∞, –æ–±–æ–≥–∞—â–µ–Ω–∏—è (–≥–µ–æ–¥–∞–Ω–Ω—ã–µ) –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤.
    *   –î–µ—Ç–µ–∫—Ü–∏–∏ –∞–Ω–æ–º–∞–ª–∏–π.
    *   –ü–∞–∫–µ—Ç–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏.
*   **ClickHouse:** –ë—ã—Å—Ç—Ä–∞—è —Å—Ç–æ–ª–±—Ü–æ–≤–∞—è –°–£–ë–î, –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –¥–∞—à–±–æ—Ä–¥–∞.
*   **Streamlit:** –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–µ–±-–¥–∞—à–±–æ—Ä–¥–∞ –Ω–∞ Python.
*   **Docker & Docker Compose:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **Docker** (–≤–µ—Ä—Å–∏—è 20.10.0+).
*   **Docker Compose** (–≤–µ—Ä—Å–∏—è 1.29.0+).
*   **Python 3.9+** –Ω–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–æ–≤).
*   **Git** –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <URL_–≤–∞—à–µ–≥–æ_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
    cd <–∏–º—è_–ø–∞–ø–∫–∏_–ø—Ä–æ–µ–∫—Ç–∞>
    ```

2.  **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö GeoLite2:**
    –î–µ—Ç–µ–∫—Ü–∏—è —Å—Ç—Ä–∞–Ω—ã –ø–æ IP —Ç—Ä–µ–±—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –æ—Ç MaxMind.
    *   –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [—Å–∞–π—Ç–µ MaxMind](https://www.maxmind.com/en/geolite2/signup) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏.
    *   –°–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ `GeoLite2-Country.tar.gz`.
    *   –†–∞—Å–ø–∞–∫—É–π—Ç–µ –µ–≥–æ –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `GeoLite2-Country.mmdb` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `spark/`.
    ```
    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–∫–æ–π:
    project_folder/
    ‚îú‚îÄ‚îÄ spark/
    ‚îÇ   ‚îú‚îÄ‚îÄ GeoLite2-Country.mmdb  <-- –ü–û–ú–ï–°–¢–ò–¢–ï –§–ê–ô–õ –°–Æ–î–ê
    ‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ ...
    ```

3.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:**
    ```bash
    docker-compose up --build -d
    ```
    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑—ã, —Å–æ–±–µ—Ä–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ (–¥–ª—è Spark –∏ Streamlit) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–∏–µ–º—É –¥–∞–Ω–Ω—ã—Ö. –ß—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –ª–æ–≥–∏, –≤–∫–ª—é—á–∞—è –∞–Ω–æ–º–∞–ª–∏–∏:

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞:**
    ```bash
    pip install faker
    ```

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
    ```bash
    python3 generate_logs.py
    ```
    –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª—ã `access.log` –∏ `error.log` –≤ –ø–∞–ø–∫–µ `nginx/logs`. Filebeat –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∏—Ö –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É. –ß–µ—Ä–µ–∑ 15-30 —Å–µ–∫—É–Ω–¥ –¥–∞–Ω–Ω—ã–µ –Ω–∞—á–Ω—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ.

### –û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏

–≠—Ç–æ—Ç —à–∞–≥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–∞–∫–æ–ø–∏—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö.

1.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:**
    ```bash
    docker-compose exec spark /opt/spark/bin/spark-submit /opt/spark-apps/train_model.py
    ```
    –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤–æ–∑—å–º–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ ClickHouse, –æ–±—É—á–∏—Ç –º–æ–¥–µ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –µ–µ.

2.  **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≥–Ω–æ–∑:**
    ```bash
    docker-compose exec spark /opt/spark/bin/spark-submit /opt/spark-apps/make_predictions.py
    ```
    –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∏—Ç –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ 24 —á–∞—Å–∞ –≤ ClickHouse.

## üñ•Ô∏è –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

*   **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Nginx:** `http://localhost:8080`
*   **–î–∞—à–±–æ—Ä–¥ Streamlit:** `http://localhost:8501`

## üìä –û–±–∑–æ—Ä –¥–∞—à–±–æ—Ä–¥–∞

–î–∞—à–±–æ—Ä–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞:

*   **üìà –û–±–∑–æ—Ä –∏ –¥–∏–Ω–∞–º–∏–∫–∞:** KPI (–≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP), –¥–∏–Ω–∞–º–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ç–∏–ø–∞–º –æ—Ç–≤–µ—Ç–æ–≤.
*   **üåç –ì–µ–æ-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** –ö–∞—Ä—Ç—ã –º–∏—Ä–∞ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —É—Ä–æ–≤–Ω–µ–º –æ—à–∏–±–æ–∫ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º.
*   **üö¶ –¢–æ–ø-–ª–∏—Å—Ç—ã –∏ —Å—Ç–∞—Ç—É—Å—ã:** –¢–æ–ø-10 —Å—Ç—Ä–∞–Ω–∏—Ü, IP-–∞–¥—Ä–µ—Å–æ–≤ –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É –∏ –æ—à–∏–±–∫–∞–º, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ HTTP-—Å—Ç–∞—Ç—É—Å–æ–≤.
*   **üö® –î–µ—Ç–µ–∫—Ü–∏—è –∞–Ω–æ–º–∞–ª–∏–π:** –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –∞–Ω–æ–º–∞–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –∞–Ω–æ–º–∞–ª–∏–π –∏ —Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞.
*   **üîß –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞:** –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫, —Ç–æ–ø —Å–æ–æ–±—â–µ–Ω–∏–π, –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º (error/warn).
*   **üîÆ –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:** –ì—Ä–∞—Ñ–∏–∫ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —Å –ø—Ä–æ–≥–Ω–æ–∑–æ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–∞–º–∏.

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ clickhouse/
‚îÇ   ‚îî‚îÄ‚îÄ init.sql            # SQL-—Å—Ö–µ–º–∞ –¥–ª—è —Ç–∞–±–ª–∏—Ü ClickHouse
‚îú‚îÄ‚îÄ filebeat/
‚îÇ   ‚îî‚îÄ‚îÄ filebeat.yml        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Filebeat
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îú‚îÄ‚îÄ logs/               # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ site1/              # –§–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∞–π—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îú‚îÄ‚îÄ spark/
‚îÇ   ‚îú‚îÄ‚îÄ GeoLite2-Country.mmdb # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö GeoIP (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)
‚îÇ   ‚îú‚îÄ‚îÄ spark_processor.py    # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ train_model.py      # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ make_predictions.py # –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile          # Dockerfile –¥–ª—è Spark
‚îú‚îÄ‚îÄ streamlit/
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.py        # –ö–æ–¥ –¥–∞—à–±–æ—Ä–¥–∞ Streamlit
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile          # Dockerfile –¥–ª—è Streamlit
‚îú‚îÄ‚îÄ docker-compose.yml      # –§–∞–π–ª –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ generate_logs.py        # –°–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ª–æ–≥–æ–≤
‚îî‚îÄ‚îÄ README.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª```

## üí° –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

*   **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Airflow –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cron –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤.
*   **–°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π:** –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack, Telegram –∏–ª–∏ –ø–æ email.
*   **–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ ML –º–æ–¥–µ–ª–∏:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LSTM –∏–ª–∏ ARIMA –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –º–æ–¥–µ–ª–∏ –≤—Ä–æ–¥–µ Isolation Forest –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∞–Ω–æ–º–∞–ª–∏–π.
*   **CI/CD:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞.